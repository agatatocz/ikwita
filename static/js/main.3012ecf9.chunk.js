(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{511:function(e,t,n){e.exports=n(752)},516:function(e,t,n){},752:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(21),i=n.n(o),c=(n(516),n(39)),s=n(33),l=n(62),u=n(53),d=n(63),m=n(78),f=n(108),p=n(782),g=n(785),v=n(27),b=n(157),w=Object(b.a)({palette:{background:{default:"#eee"},primary:{main:"#7FCDBB"},secondary:{main:"#0f0f0f"},error:{main:"#f44336"}}}),E=n(36),h=n.n(E),x=n(17),y=n(92),j=n(66),O=n(13),C=n(483),k=n.n(C),I=function(e){sessionStorage.setItem("jwt",e)},D=function(){return sessionStorage.getItem("jwt")},N=n(484),P=n.n(N),S=(n(538),n(337)),W=n.n(S),z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Error";return W.a.error({title:t,message:e,position:"bottomCenter"})},T=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Success";return W.a.success({title:t,message:e,position:"bottomCenter"})},U=n(123),A=function(e){var t=e.getDate(),n=e.getMonth()+1;n<10&&(n="0".concat(n));var a=e.getFullYear();return"".concat(a,"-").concat(n,"-").concat(t)},L=function(e,t){return e.filter((function(e){return"".concat(e.id)!=="".concat(t)}))},F=function(e,t){return Object(U.findIndex)(e,(function(e){return"".concat(e.id)==="".concat(t)}))},R=function(e,t){return e.find((function(e){return"".concat(e.id)==="".concat(t)}))},G=P.a.create({baseURL:"https://ikwita-api.azurewebsites.net"});G.interceptors.request.use((function(e){var t=D();return e.headers.authorization="Bearer ".concat(t),e})),G.interceptors.response.use((function(e){return e.data.message&&T(e.data.message),e}),(function(e){var t;return console.log(Object(j.a)({},e)),e.response&&e.response.data&&("string"===typeof(t=e.response.data)||t instanceof String)?z(e.response.data):e.response&&e.response.data&&e.response.data.info?z(e.response.data.info):e.response&&e.response.data&&e.response.data.message&&z(e.response.data.message),Promise.reject(e)}));var B=G,M="/account/register",H="/account/login",Z="/account/exist",q="/wallets",J="/groups/get",K="/groups/addUsers",V="/groups/deleteUser",$="/wallets/add",Y="/wallets/remove",_="/wallets/edit",X="/groups/add",Q="/groups/remove",ee="/groups/edit",te="/groupExpenses/add",ne="/groupExpenses/edit",ae="/groupExpenses/remove",re="/billingGroupExpenses",oe="/categoriesOfExpenses/add",ie="/categoriesOfExpenses/edit",ce="/categoriesOfExpenses/remove",se="/categoriesOfIncomes/add",le="/categoriesOfIncomes/edit",ue="/categoriesOfIncomes/remove",de="/expenses/add",me="/expenses/edit",fe="/expenses/remove",pe="/incomes/add",ge="/incomes/edit",ve="/incomes/remove",be=function(e,t,n){return B.post(M,{username:e,mail:t,password:n})},we=function(e){return B.get(Z,{params:{username:e}})},Ee={http:B,login:function(e,t){return B.post(H,{username:e,password:t})},registerUser:be,getWallets:function(e,t,n,a){return B.get(q,{params:{userName:e,ID:t,dateFrom:n,dateTo:a}})},getGroups:function(e,t,n,a){return B.get(J,{params:{userName:e,groupID:t,dateFrom:n,dateTo:a}})},addWallet:function(e,t){return B.post($,{name:e,userName:t,currency:"PLN"})},deleteWallet:function(e){return B.get(Y,{params:{id:e}})},editWallet:function(e,t){return B.post("".concat(_,"?id=").concat(e),{name:t})},addGroup:function(e,t,n){return B.post(X,{name:e,ownerName:t,usersName:n,currency:"PLN"})},addUsersToGroup:function(e,t){return B.post("".concat(K,"?id=").concat(e),{usersname:t})},deleteUsersFromGroup:function(e,t){return B.put("".concat(V,"?id=").concat(e),{usersname:t})},deleteGroup:function(e){return B.get(Q,{params:{id:e}})},editGroup:function(e,t){return B.post("".concat(ee,"?id=").concat(e),{name:t})},checkIfUserExists:we,addGroupExpense:function(e,t,n,a,r,o){return B.post(te,{name:e,value:t,date:n,categoryID:a,username:r,groupID:o})},checkUserInGroupExpense:function(e,t){return B.get(re,{params:{groupExpensesID:e,username:t}})},editGroupExpense:function(e,t,n,a,r){return B.post("".concat(ne,"?ID=").concat(e),{name:t,value:n,date:a,categoryID:r})},deleteGroupExpense:function(e){return B.get("".concat(ae,"?ID=").concat(e))},addCategoryOfExpense:function(e,t,n){return B.post(oe,{name:e,username:t,groupID:n})},editCategoryOfExpense:function(e,t,n,a){return B.post("".concat(ie,"?id=").concat(e),{name:t,username:n,groupID:a})},deleteCategoryOfExpense:function(e){return B.get("".concat(ce,"?id=").concat(e))},addCategoryOfIncome:function(e,t){return B.post(se,{name:e,username:t})},editCategoryOfIncome:function(e,t,n){return B.post("".concat(le,"?id=").concat(e),{name:t,username:n})},deleteCategoryOfIncome:function(e){return B.get("".concat(ue,"?id=").concat(e))},addExpense:function(e,t,n,a,r){return B.post(de,{name:e,value:t,date:n,categoryID:a,walletID:r})},editExpense:function(e,t,n,a,r,o){return B.post("".concat(me,"?id=").concat(e),{name:t,value:n,date:a,categoryID:r,walletID:o})},deleteExpense:function(e){return B.get("".concat(fe,"?id=").concat(e))},addIncome:function(e,t,n,a,r){return B.post(pe,{name:e,value:t,date:n,categoryID:a,walletID:r})},editIncome:function(e,t,n,a,r,o){return B.post("".concat(ge,"?id=").concat(e),{name:t,value:n,date:a,categoryID:r,walletID:o})},deleteIncome:function(e){return B.get("".concat(ve,"?id=").concat(e))}},he={id:-1,name:"Brak kategorii"},xe=function(e){return e.walletJSONs.map((function(t){return Object(j.a)({},t,{isPrivate:!0,expenses:Ce(t.expenses),incomes:Ce(t.incomes),dateFrom:e.dateFrom,dateTo:e.dateTo,expensesCategories:e.expensesCategories,incomesCategories:e.incomesCategories})}))},ye=function(e){return Object(j.a)({},e.wallet,{isPrivate:!0,dateFrom:e.dateFrom,dateTo:e.dateTo,expensesCategories:e.expensesCategories,incomesCategories:e.incomesCategories})},je=function(e){return e.result.map((function(e){return Object(j.a)({},e,{isPrivate:!1,expenses:Ce(e.expenses),categories:e.expencesCategories})}))},Oe=function(e){return Object(j.a)({},e,{isPrivate:!1,categories:e.expencesCategories})},Ce=function(e){return e.map((function(e){return e.category?e:Object(j.a)({},e,{category:he})}))},ke=function(e,t){return e.map((function(e){return"".concat(e.category.id)==="".concat(t)?Object(j.a)({},e,{category:he}):e}))},Ie=function(e){return Object(U.findIndex)(e,["isPrivate",!1])},De=Object(a.createContext)({}),Ne=Object(f.g)((function(e){var t=e.children,n=e.history,o=Object(a.useState)({user:null,wallets:[]}),i=Object(O.a)(o,2),c=i[0],s=i[1],l=Object(a.useState)(!1),u=Object(O.a)(l,2),d=u[0],m=u[1],f=function(e){s(Object(j.a)({},c,{wallets:e}))},p=Object(a.useCallback)(Object(y.a)(h.a.mark((function e(){var t,n,a,r,o,i,l;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=D(),c.user||!t){e.next=9;break}return m(!0),n=k()(t),a=n.username,r=n.email,o=n.userID,e.next=6,Ee.getGroups(a);case 6:i=e.sent,l=i.data,Ee.getWallets(a).then((function(e){var t=e.data;s({wallets:[].concat(Object(x.a)(xe(t)),Object(x.a)(je(l))),user:{id:o,username:a,email:r}})})).finally((function(){m(!1)}));case 9:case"end":return e.stop()}}),e)}))),[c]);Object(a.useEffect)((function(){p()}),[p]);var g=function(){var e=Object(y.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!c.user){e.next=5;break}return a=c.user.username,e.abrupt("return",Ee.addWallet(t,a).then(function(){var e=Object(y.a)(h.a.mark((function e(t){var a,r,o,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.data,r=Object(x.a)(c.wallets),o=ye(a),i=Ie(c.wallets),r.splice(i,0,o),f(r),n.push("".concat(tn.wallet,"/").concat(a.w.id));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:return e.abrupt("return",Promise.reject());case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(y.a)(h.a.mark((function e(t,a){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!c.user){e.next=5;break}return r=c.user.username,e.abrupt("return",Ee.addGroup(t,r,a).then(function(){var e=Object(y.a)(h.a.mark((function e(t){var a,o,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,e.next=3,Ee.getGroups(r,a.id);case 3:o=e.sent,i=[].concat(Object(x.a)(c.wallets),Object(x.a)(je(o.data))),f(i),n.push("".concat(tn.wallet,"/").concat(a.id));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:return e.abrupt("return",Promise.reject());case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),b=function(){var e=Object(y.a)(h.a.mark((function e(t,a){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),r=a?Ee.deleteWallet:Ee.deleteGroup,e.abrupt("return",r(t).then((function(){var e=L(Object(x.a)(c.wallets),t);f(e),e.length?n.push("".concat(tn.wallet,"/").concat(e[0].id)):n.push("".concat(tn.newWallet))})).finally((function(){m(!1)})));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),w=function(){var e=Object(y.a)(h.a.mark((function e(t,n,a){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n?Ee.editWallet:Ee.editGroup,e.abrupt("return",r(t,a).then((function(e){var a=e.data,r=Object(x.a)(c.wallets),o=F(r,t);o>=0&&(r[o]=n?ye(a):Oe(a)),f(r)})));case 2:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),E=Object(j.a)({},c,{loading:d,doLogIn:function(e,t){return Ee.login(e,t).then(function(){var e=Object(y.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,e.next=3,I(a);case 3:return e.next=5,p();case 5:c.wallets.length?n.push("".concat(tn.wallet,"/").concat(c.wallets[0].id)):n.push(tn.newWallet);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},doLogOut:function(){sessionStorage.removeItem("jwt"),s({user:null,wallets:[]}),n.push(tn.empty)},setUsersData:p,getWallet:function(e){return c.wallets.find((function(t){return"".concat(t.id)===e}))},addPrivateWallet:g,addSheredWallet:v,deleteWallet:b,editWallet:w,setWalletDataByDate:function(e){return function(t,n){var a=Object(x.a)(c.wallets),r=F(a,e);return a[r]&&c.user?(a[r].isPrivate?Ee.getWallets:Ee.getGroups)(c.user.username,e,t,n).then((function(e){var t=e.data;a[r]=a[r].isPrivate?xe(t)[0]:je(t)[0],f(a)})):Promise.reject()}},addCategory:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n){var a=Object(x.a)(c.wallets),r=R(a,e);if(n.name&&c.user&&r){if(r.isPrivate)return t?Ee.addCategoryOfIncome(n.name,c.user.username).then((function(e){var t=e.data;"incomesCategories"in r&&r.incomesCategories.push(t),f(a)})):Ee.addCategoryOfExpense(n.name,c.user.username).then((function(e){var t=e.data;"expensesCategories"in r&&r.expensesCategories.push(t),f(a)}));if("categories"in r)return Ee.addCategoryOfExpense(n.name,"",e).then((function(e){var t=e.data;r.categories.push(t),f(a)}))}return Promise.reject()}},editCategory:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n){var a=Object(x.a)(c.wallets),r=R(a,e);if(n.name&&c.user&&r){if(r.isPrivate)return t?Ee.editCategoryOfIncome(n.id,n.name,c.user.username).then((function(e){var t=e.data.categoryOfIncomes;if("incomesCategories"in r){var n=R(r.incomesCategories,t.id);n&&(n.name=t.name,r.incomes.forEach((function(e){"".concat(e.category.id)==="".concat(t.id)&&(e.category.name=t.name)})),f(a))}})):Ee.editCategoryOfExpense(n.id,n.name,c.user.username).then((function(e){var t=e.data.categoryOfExpenses;if("expensesCategories"in r){var n=R(r.expensesCategories,t.id);n&&(n.name=t.name,r.expenses.forEach((function(e){"".concat(e.category.id)==="".concat(t.id)&&(e.category.name=t.name)})),f(a))}}));if("categories"in r)return Ee.editCategoryOfExpense(n.id,n.name,"",e).then((function(e){var t=e.data.categoryOfExpenses,n=R(r.categories,t.id);n&&(n.name=t.name,r.expenses.forEach((function(e){"".concat(e.category.id)==="".concat(t.id)&&(e.category.name=t.name)})),f(a))}))}return Promise.reject()}},deleteCategory:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n){var a=Object(x.a)(c.wallets),r=R(a,e);return r?r.isPrivate?t?Ee.deleteCategoryOfIncome(n.id).then((function(){"incomesCategories"in r&&(r.incomesCategories=L(r.incomesCategories,n.id),r.incomes=ke(r.incomes,n.id),f(a))})):Ee.deleteCategoryOfExpense(n.id).then((function(){"expensesCategories"in r&&(r.expensesCategories=L(r.expensesCategories,n.id),r.expenses=ke(r.expenses,n.id),f(a))})):Ee.deleteCategoryOfExpense(n.id).then((function(){"categories"in r&&(r.categories=L(r.categories,n.id),r.expenses=ke(r.expenses,n.id),f(a))})):Promise.reject()}},addExpense:function(e){return function(t){var n=Object(x.a)(c.wallets),a=R(n,e);if(a&&c.user){var r=t.name,o=t.value,i=t.date,s=t.category;return a.isPrivate?Ee.addExpense(r,o,i,s.id,e).then((function(e){var t=e.data;a.expenses.push(t),f(n)})):Ee.addGroupExpense(r,o,i,s.id,c.user.username,e).then((function(e){var t=e.data;a.expenses.push(t),f(n)}))}return Promise.reject()}},editExpense:function(e){return function(t){var n=Object(x.a)(c.wallets),a=R(n,e);if(a){var r=t.id,o=t.name,i=t.value,s=t.date,l=t.category;return a.isPrivate?Ee.editExpense(r,o,i,s,l.id,e).then((function(e){var t=e.data.expense,r=F(a.expenses,t.id);a.expenses[r]=t,f(n)})):Ee.editGroupExpense(r,o,i,s,l.id).then((function(e){var t=e.data,r=F(a.expenses,t.id);a.expenses[r]=t,f(n)}))}return Promise.reject()}},deleteExpense:function(e){return function(t){var n=Object(x.a)(c.wallets),a=R(n,e);return a?(a.isPrivate?Ee.deleteExpense:Ee.deleteGroupExpense)(t.id).then((function(){a.expenses=L(a.expenses,t.id),f(n)})):Promise.reject()}},addIncome:function(e){return function(t){var n=Object(x.a)(c.wallets),a=R(n,e);if(a&&"incomes"in a){var r=t.name,o=t.value,i=t.date,s=t.category;return Ee.addIncome(r,o,i,s.id,e).then((function(e){var t=e.data;a.incomes.push(t),f(n)}))}return Promise.reject()}},editIncome:function(e){return function(t){var n=Object(x.a)(c.wallets),a=R(n,e);if(a&&"incomes"in a){var r=t.id,o=t.name,i=t.value,s=t.date,l=t.category;return Ee.editIncome(r,o,i,s,l.id,e).then((function(e){var t=e.data.income,r=F(a.incomes,t.id);a.incomes[r]=t,f(n)}))}return Promise.reject()}},deleteIncome:function(e){return function(t){var n=Object(x.a)(c.wallets),a=R(n,e);return Ee.deleteIncome(t.id).then((function(){a&&"incomes"in a&&(a.incomes=L(a.incomes,t.id),f(n))}))}},addUser:function(e){return function(t){var n=Object(x.a)(c.wallets),a=R(n,e);return a&&"users"in a?Ee.addUsersToGroup(e,[t.username]).then((function(){a.users.push(t),f(n)})):Promise.reject()}},deleteUser:function(e){return function(t){var n=Object(x.a)(c.wallets),a=R(n,e);return a&&"users"in a?Ee.deleteUsersFromGroup(e,[t.username]).then((function(){a.users=L(a.users,t.id),f(n)})):Promise.reject()}},checkUserInGroupExpense:function(e){return function(t,n){var a,r,o,i=Object(x.a)(c.wallets),s=function(e,t,n){var a;return null===(a=e.find((function(e){return"".concat(e.id)==="".concat(t)})))||void 0===a?void 0:a.expenses.find((function(e){return"".concat(e.id)==="".concat(n)}))}(i,e,t);return s&&s.users&&((null===(a=s.owner)||void 0===a?void 0:a.username)===(null===(r=c.user)||void 0===r?void 0:r.username)||n===(null===(o=c.user)||void 0===o?void 0:o.username))?(s.users[n]=!s.users[n],Ee.checkUserInGroupExpense(t,n).then((function(){f(i)}))):(z("Nie masz uprawnie\u0144 do zmiany tego pola."),Promise.reject())}}});return r.a.createElement(De.Provider,{value:E},t)})),Pe=n(9),Se=n(75),We=n(169),ze=n(778),Te=n(56),Ue=n(139),Ae=Object(Se.a)((function(e){return Object(We.a)({appBar:Object(Pe.a)({padding:"2rem 2rem 1.5rem 3rem",display:"flex",justifyContent:"space-between",alignItems:"flex-start",flexWrap:"wrap"},e.breakpoints.down("xs"),{padding:"1rem 1rem 1.5rem 2rem"}),logo:{fontFamily:"Lobster, cursive",color:"".concat(e.palette.primary.main),letterSpacing:"2px"},usernameContainer:Object(Pe.a)({textAlign:"center"},e.breakpoints.down("xs"),{width:"100%",display:"flex",justifyContent:"flex-end",alignItems:"center",marginTop:"0.5rem"}),logoutButton:Object(Pe.a)({marginTop:"0.5rem"},e.breakpoints.down("xs"),{marginTop:0,marginLeft:"0.5rem"})})})),Le=function(){var e=a.useContext(De),t=e.user,n=e.doLogOut,r=Ae();return a.createElement(ze.a,{position:"static",color:"secondary"},a.createElement("div",{className:r.appBar},a.createElement(Te.a,{variant:"h2",className:r.logo},"i kwita."),t&&a.createElement("div",{className:r.usernameContainer},a.createElement(Te.a,null,t.username),a.createElement(Ue.a,{variant:"outlined",color:"primary",onClick:n,component:m.b,to:tn.empty,className:r.logoutButton},"Wyloguj"))))},Fe=n(788),Re=n(779),Ge=n(486),Be=n.n(Ge),Me=Object(Se.a)((function(e){return Object(We.a)({newWallet:{display:"flex"},icon:{marginRight:"0.5rem"}})})),He=function(e){var t=e.match,n=t.params,o=t.path,i=Me(),c=Object(a.useContext)(De),s=c.user,l=c.wallets,u=Object(a.useState)(0),d=Object(O.a)(u,2),f=d[0],p=d[1];Object(a.useEffect)((function(){if(n.hasOwnProperty("id")){var e=l.findIndex((function(e){return"".concat(e.id)===n.id}));e>-1&&p(e)}else o===tn.newWallet&&p(l.length)}),[n,l,o]);return s?r.a.createElement(ze.a,{position:"static",color:"secondary"},r.a.createElement(Fe.a,{value:f,indicatorColor:"primary",onChange:function(e,t){p(t)},variant:"scrollable",scrollButtons:"auto"},l.map((function(e){return r.a.createElement(Re.a,{component:m.b,to:"".concat(tn.wallet,"/").concat(e.id),label:e.name,key:"".concat(e.name,"-").concat(e.id)})})),r.a.createElement(Re.a,{component:m.b,to:tn.newWallet,label:r.a.createElement("div",{className:i.newWallet},r.a.createElement(Be.a,{className:i.icon}),"Dodaj nowy portfel")}))):null},Ze=n(306),qe=n(104),Je=n.n(qe),Ke={body:{emptyDataSourceMessage:"Brak danych do wy\u015bwietlenia",addTooltip:"Dodaj",deleteTooltip:"Usu\u0144",editTooltip:"Edytuj",filterRow:{filterTooltip:"Filtruj"},editRow:{deleteText:"Czy na pewno chcesz usun\u0105\u0107 ten wiersz?",cancelTooltip:"Anuluj",saveTooltip:"Zapisz"}},grouping:{placeholder:"Drag headers ...",groupedBy:"Grouped By:"},header:{actions:"Akcje"},pagination:{labelDisplayedRows:"{from}-{to} z {count}",labelRowsSelect:"wierszy",labelRowsPerPage:"Wierszy na stronie:",firstAriaLabel:"Pierwsza strona",firstTooltip:"Pierwsza strona\t",previousAriaLabel:"Poprzednia strona",previousTooltip:"Poprzednia strona",nextAriaLabel:"Nast\u0119pnia strona",nextTooltip:"Nast\u0119pnia strona",lastAriaLabel:"Ostatnia strona",lastTooltip:"Ostatnia strona"},toolbar:{addRemoveColumns:"Dodaj lub usu\u0144 kolumny",nRowsSelected:"{0} wybranych wierszy",showColumnsTitle:"Poka\u017c kolumny",showColumnsAriaLabel:"Poka\u017c kolumny",exportTitle:"Eksportuj",exportAriaLabel:"Eksportuj",exportName:"Eksportuj jako CSV",searchTooltip:"Szukaj",searchPlaceholder:"Szukaj"}},Ve=function(e){var t=e.data,n=e.onAdd,a=e.onEdit,o=e.onDelete,i=e.categories,c=e.currency,s=e.title,l=[{title:"Data",field:"date",editComponent:function(e){return r.a.createElement(Ze.a,{variant:"inline",format:"dd/MM/yyyy",value:e.value,onChange:e.onChange})},defaultSort:"desc"},{title:"Nazwa",field:"name"},{title:"Warto\u015b\u0107 (".concat(c,")"),field:"value"},{title:"Kategoria",field:"category.id",lookup:function(){var e={};return i.forEach((function(t){e[t.id]=t.name})),e}()}],u=function(e){var t=e.name,n=e.value,a=e.category;return!!(t&&n&&a)||(z("Nazwa, warto\u015b\u0107 i kategoria s\u0105 wymagane."),!1)};return r.a.createElement(Je.a,{title:s,columns:l,data:t,localization:Ke,options:{actionsColumnIndex:-1},editable:{onRowAdd:function(e){return function(e){return u(e)?(e.date||(e.date=A(new Date)),n(e)):Promise.reject()}(e)},onRowUpdate:function(e,t){return function(e){return u(e)?a(e):Promise.reject()}(e)},onRowDelete:function(e){return o(e)}}})},$e=n(4),Ye=n(407),_e=Object(Se.a)((function(e){return Object(We.a)({loader:{marginLeft:"6px"}})})),Xe=function(e){var t=e.loading,n=e.text,a=Object($e.a)(e,["loading","text"]),o=_e();return r.a.createElement(Ue.a,Object.assign({variant:"contained",color:"primary",disabled:t},a),n,t&&r.a.createElement(Ye.a,{className:o.loader,size:16}))},Qe=Object(Se.a)((function(e){return Object(We.a)({container:Object(Pe.a)({display:"flex",alignItems:"center",flexWrap:"wrap"},e.breakpoints.down("xs"),{flexDirection:"column",marginBottom:"6px"}),formField:{margin:"0 1rem 1rem 0"}})})),et=function(e){var t=e.dateFrom,n=e.dateTo,o=e.onDatesSubmit,i=Object(a.useState)(t),c=Object(O.a)(i,2),s=c[0],l=c[1],u=Object(a.useState)(n),d=Object(O.a)(u,2),m=d[0],f=d[1],p=Object(a.useState)(!1),g=Object(O.a)(p,2),v=g[0],b=g[1],w=Qe();return r.a.createElement("div",{className:w.container},r.a.createElement(Ze.a,{variant:"inline",label:"Od",format:"dd/MM/yyyy",value:s,maxDate:new Date(m),onChange:l,className:w.formField}),r.a.createElement(Ze.a,{variant:"inline",label:"Do",format:"dd/MM/yyyy",value:m,onChange:f,minDate:new Date(s),className:w.formField}),r.a.createElement(Xe,{onClick:function(){b(!0);var e=s instanceof Date?A(s):s,t=m instanceof Date?A(m):m;o(e,t).finally((function(){b(!1)}))},text:"Od\u015bwie\u017c",loading:v}))},tt=n(500),nt=function(e){var t=Object(U.groupBy)(e,"category.name");return Object.keys(t).map((function(e){return{id:e,label:e,value:1===t[e].length?t[e][0].value:t[e].map((function(e){return e.value})).reduce((function(e,t){return e+t}))}}))},at=function(e){var t=e.data;return a.createElement(tt.a,{data:nt(t),margin:{top:40,right:80,bottom:80,left:80},innerRadius:.5,padAngle:.7,cornerRadius:3,colors:{scheme:"yellow_green_blue"},borderWidth:1,borderColor:{from:"color",modifiers:[["darker",.2]]},radialLabelsSkipAngle:10,radialLabelsTextXOffset:6,radialLabelsTextColor:"333333",radialLabelsLinkOffset:0,radialLabelsLinkDiagonalLength:16,radialLabelsLinkHorizontalLength:24,radialLabelsLinkStrokeWidth:1,radialLabelsLinkColor:{from:"color"},slicesLabelsSkipAngle:10,slicesLabelsTextColor:"#333",animate:!0,motionStiffness:90,motionDamping:15,legends:[{anchor:"bottom",direction:"row",translateY:56,itemWidth:100,itemHeight:18,itemTextColor:"#333",symbolSize:18,symbolShape:"circle",effects:[{on:"hover",style:{itemTextColor:"#000"}}]}]})},rt=n(764),ot=Object(Se.a)((function(e){return Object(We.a)({table:Object(Pe.a)({minWidth:"530px"},e.breakpoints.down("xs"),{minWidth:"95%"})})})),it=function(e){var t=e.categories,n=e.addCategory,o=e.editCategory,i=e.deleteCategory,c=ot(),s=Object(a.useState)(!1),l=Object(O.a)(s,2),u=l[0],d=l[1],m=function(){d(!u)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ue.a,{variant:"outlined",color:"secondary",onClick:m},"Kategorie"),r.a.createElement(rt.a,{onClose:m,open:u},r.a.createElement("div",{className:c.table},r.a.createElement(Je.a,{title:"Kategorie",columns:[{title:"Nazwa",field:"name"}],data:t,localization:Ke,options:{actionsColumnIndex:-1},editable:{onRowAdd:function(e){return n(e)},onRowUpdate:function(e,t){return o(e,t)},onRowDelete:function(e){return i(e)}}}))))},ct=n(767),st=n(766),lt=n(786),ut=n(787),dt=Object(Se.a)((function(e){return Object(We.a)({button:{color:e.palette.error.main}})})),mt=function(e){var t=e.walletId,n=e.walletName,a=e.isPrivate,o=dt(),i=r.a.useState(!1),c=Object(O.a)(i,2),s=c[0],l=c[1],u=r.a.useContext(De).deleteWallet,d=function(){l(!1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ue.a,{className:o.button,onClick:function(){l(!0)}},"Usu\u0144 portfel"),r.a.createElement(rt.a,{open:s,onClose:d},r.a.createElement(ut.a,null,"Usuni\u0119cie portfela jest akcj\u0105 nieodwracaln\u0105."),r.a.createElement(st.a,null,r.a.createElement(lt.a,null,"Jeste\u015b pewien, \u017ce chcesz usun\u0105\u0107 portfel: ",n,"?")),r.a.createElement(ct.a,null,r.a.createElement(Ue.a,{onClick:d,color:"secondary",autoFocus:!0},"Anuluj"),r.a.createElement(Ue.a,{onClick:function(){d(),u(t,a)},className:o.button},"Usu\u0144 portfel"))))},ft=n(269),pt=Object(Se.a)((function(e){return Object(We.a)({loader:{marginLeft:"8px",width:"64px",textAlign:"center"}})})),gt=function(e){var t=e.walletId,n=e.walletName,a=e.isPrivate,o=r.a.useState(!1),i=Object(O.a)(o,2),c=i[0],s=i[1],l=r.a.useState(!1),u=Object(O.a)(l,2),d=u[0],m=u[1],f=r.a.useState(n),p=Object(O.a)(f,2),g=p[0],v=p[1],b=r.a.useContext(De).editWallet,w=pt(),E=function(){s(!1),v(n)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ue.a,{color:"secondary",onClick:function(){s(!0)}},"Zmie\u0144 nazw\u0119"),r.a.createElement(rt.a,{open:c,onClose:E},r.a.createElement(ut.a,null,"Wpisz now\u0105 nazw\u0119 portfela:"),r.a.createElement(st.a,null,r.a.createElement(ft.a,{fullWidth:!0,autoFocus:!0,label:"Nazwa",value:g,onChange:function(e){v(e.target.value)}})),r.a.createElement(ct.a,null,r.a.createElement(Ue.a,{onClick:E,color:"secondary"},"Anuluj"),d?r.a.createElement("div",{className:w.loader},r.a.createElement(Ye.a,{size:16})):r.a.createElement(Ue.a,{onClick:function(){m(!0),b(t,a,g).finally((function(){E(),m(!1)}))},color:"primary",autoFocus:!0},"Zapisz"))))},vt=Object(Se.a)((function(e){return Object(We.a)({footer:{width:"90%",textAlign:"center",marginTop:"1rem",borderTop:"1px #ccc solid",padding:"0.5rem",marginLeft:"auto",marginRight:"auto"}})})),bt=function(e){var t=e.walletId,n=e.walletName,a=e.isPrivate,o=vt();return r.a.createElement("div",{className:o.footer},r.a.createElement(gt,{walletId:t,walletName:n,isPrivate:a}),r.a.createElement(mt,{walletId:t,walletName:n,isPrivate:a}))},wt=Object(Se.a)((function(e){return Object(We.a)({container:Object(Pe.a)({padding:"2rem",textAlign:"center"},e.breakpoints.down("xs"),{padding:"1rem 0.5rem"}),sum:{margin:"1rem 0"},pieChartContainer:Object(Pe.a)({height:"400px"},e.breakpoints.down("xs"),{height:"90vw"}),flex:Object(Pe.a)({display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap"},e.breakpoints.down("xs"),{flexDirection:"column"})})})),Et=function(e){var t=e.data,n=void 0===t?[]:t,a=e.onAdd,o=e.onEdit,i=e.onDelete,c=e.categories,s=void 0===c?[]:c,l=e.sum,u=e.currency,d=e.isExpenses,m=e.dateFrom,f=e.dateTo,p=e.addCategory,g=e.editCategory,v=e.deleteCategory,b=e.onDatesSubmit,w=e.walletId,E=e.walletName,h=e.isPrivate,x=wt();return r.a.createElement("div",{className:x.container},r.a.createElement("div",{className:x.flex},r.a.createElement(et,{dateFrom:m,dateTo:f,onDatesSubmit:b}),r.a.createElement(it,{categories:s,addCategory:p,editCategory:g,deleteCategory:v})),r.a.createElement(Te.a,{variant:"h5",className:x.sum},"Suma: ",l," ",u),n&&!!n.length&&r.a.createElement("div",{className:x.pieChartContainer},r.a.createElement(at,{data:n})),r.a.createElement(Ve,{data:n,onAdd:a,onEdit:o,onDelete:i,categories:s,currency:u,title:d?"Historia wydatk\xf3w":"Historia przychod\xf3w"}),r.a.createElement(bt,{walletId:w,walletName:E,isPrivate:h}))},ht=function(e){var t=e.wallet,n=Object(a.useContext)(De),o=n.addCategory,i=n.editCategory,c=n.deleteCategory,s=n.addExpense,l=n.editExpense,u=n.deleteExpense,d=n.addIncome,m=n.editIncome,f=n.deleteIncome,p=n.setWalletDataByDate,g=r.a.useState(0),v=Object(O.a)(g,2),b=v[0],w=v[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(ze.a,{position:"static",color:"secondary"},r.a.createElement(Fe.a,{value:b,indicatorColor:"primary",variant:"fullWidth",onChange:function(e,t){w(t)}},r.a.createElement(Re.a,{label:"Wydatki"}),r.a.createElement(Re.a,{label:"Przychody"}))),0===b&&r.a.createElement(Et,{data:t.expenses,onAdd:s(t.id),onEdit:l(t.id),onDelete:u(t.id),categories:t.expensesCategories,addCategory:o(t.id),editCategory:i(t.id),deleteCategory:c(t.id),sum:t.sumExpenses,currency:t.currency,isExpenses:!0,dateFrom:t.dateFrom,dateTo:t.dateTo,onDatesSubmit:p(t.id),walletId:t.id,walletName:t.name,isPrivate:t.isPrivate}),1===b&&r.a.createElement(Et,{data:t.incomes,onAdd:d(t.id),onEdit:m(t.id),onDelete:f(t.id),categories:t.incomesCategories,addCategory:o(t.id,!0),editCategory:i(t.id,!0),deleteCategory:c(t.id,!0),sum:t.sumIncomes,currency:t.currency,isExpenses:!1,dateFrom:t.dateFrom,dateTo:t.dateTo,onDatesSubmit:p(t.id),walletId:t.id,walletName:t.name,isPrivate:t.isPrivate}))},xt=n(769),yt=n(435),jt=n(478),Ot=Object(Se.a)((function(e){return Object(We.a)({flex:{display:"flex",justifyContent:"space-between",alignItems:"center"}})})),Ct=function(e){var t=e.checkMap,n=e.owner,a=e.expenseId,o=e.checkUserInGroupExpense,i=Ot(),c=r.a.useState({}),s=Object(O.a)(c,2),l=s[0],u=s[1],d=function(e,t){var n=Object(j.a)({},l);n[e]=t,u(n)},m=function(e){var t=e.target.name;d(t,!0),o(a,t).finally((function(){d(t,!1)}))};return r.a.createElement(xt.a,null,Object.keys(t).map((function(e){var o=n&&n.username===e,c=t[e];return r.a.createElement("div",{key:"".concat(a).concat(e),className:i.flex},r.a.createElement(yt.a,{control:r.a.createElement(jt.a,{color:"primary",checked:c,onChange:m,name:e,disabled:l[e]}),label:o?"".concat(e," (zg\u0142aszaj\u0105cy)"):e}),l[e]&&r.a.createElement(Ye.a,{size:15}))})))},kt=function(e){var t=e.data,n=e.addExpense,a=e.editExpense,o=e.deleteExpense,i=e.categories,c=e.currency,s=e.title,l=e.currentUser,u=e.checkUserInGroupExpense,d=[{title:"Data",field:"date",editComponent:function(e){return r.a.createElement(Ze.a,{variant:"inline",format:"dd/MM/yyyy",value:e.value,onChange:e.onChange})},defaultSort:"desc"},{title:"Nazwa",field:"name"},{title:"Warto\u015b\u0107 (".concat(c,")"),field:"value"},{title:"Warto\u015b\u0107 na osob\u0119 (".concat(c,")"),field:"valuePerUser",editable:"never"},{title:"Kategoria",field:"category.id",lookup:function(){var e={};return i.forEach((function(t){e[t.id]=t.name})),e}()},{title:"Rozliczenie",field:"users",render:function(e){return e?r.a.createElement(Ct,{checkMap:e.users,owner:e.owner,expenseId:e.id,checkUserInGroupExpense:u}):null},editable:"never",customSort:function(e,t){return e.users&&t.users?Object.values(e.users).filter((function(e){return e})).length-Object.values(t.users).filter((function(e){return e})).length:0}}],m=function(e){var t=e.name,n=e.value,a=e.category;return!!(t&&n&&a)||(z("Nazwa, warto\u015b\u0107 i kategoria s\u0105 wymagane."),!1)};return r.a.createElement(Je.a,{title:s,columns:d,data:t,localization:Ke,options:{actionsColumnIndex:-1},editable:{isEditable:function(e){var t;return(null===(t=e.owner)||void 0===t?void 0:t.username)===l.username},isDeletable:function(e){var t;return(null===(t=e.owner)||void 0===t?void 0:t.username)===l.username},onRowAdd:function(e){return function(e){return m(e)?(e.date||(e.date=A(new Date)),e.value=Object(U.round)(e.value,2),n(e)):Promise.reject()}(e)},onRowUpdate:function(e,t){return function(e){return m(e)?a(e):Promise.reject()}(e)},onRowDelete:function(e){return o(e)}}})},It=Object(Se.a)((function(e){return Object(We.a)({container:Object(Pe.a)({padding:"2rem",textAlign:"center"},e.breakpoints.down("xs"),{padding:"1rem 0.5rem"}),sum:Object(Pe.a)({margin:"0.5rem 0",width:"570px"},e.breakpoints.down("xs"),{width:"95vw"}),pieChartContainer:Object(Pe.a)({height:"400px",width:"570px"},e.breakpoints.down("xs"),{height:"90vw",width:"95vw"}),flexSpace:Object(Pe.a)({display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap"},e.breakpoints.down("xs"),{flexDirection:"column"}),flexCenter:Object(Pe.a)({display:"flex",justifyContent:"center",flexWrap:"wrap"},e.breakpoints.down("xs"),{flexDirection:"column"})})})),Dt=function(e){var t=e.data,n=e.addExpense,r=e.editExpense,o=e.deleteExpense,i=e.categories,c=e.addCategory,s=e.editCategory,l=e.deleteCategory,u=e.sum,d=e.currency,m=e.dateFrom,f=e.dateTo,p=e.currentUser,g=e.checkUserInGroupExpense,v=e.onDatesSubmit,b=e.walletId,w=e.walletName,E=e.isPrivate,h=It(),x=t.filter((function(e){return e.users&&e.users[p.username]})),y=x.length?x.map((function(e){return e.valuePerUser?e.valuePerUser:0})).reduce((function(e,t){return e+t})):0;return a.createElement("div",{className:h.container},a.createElement("div",{className:h.flexSpace},a.createElement(et,{dateFrom:m,dateTo:f,onDatesSubmit:v}),a.createElement(it,{categories:i,addCategory:c,editCategory:s,deleteCategory:l})),t&&!!t.length&&a.createElement("div",{className:h.flexCenter},a.createElement("div",null,a.createElement(Te.a,{variant:"h5",className:h.sum},"Suma og\xf3lna: ",u," ",d),a.createElement("div",{className:h.pieChartContainer},a.createElement(at,{data:t}))),a.createElement("div",null,a.createElement(Te.a,{variant:"h5",className:h.sum},"Suma Twoich wp\u0142at: ",y," ",d),!!y&&a.createElement("div",{className:h.pieChartContainer},a.createElement(at,{data:x})))),a.createElement(kt,{data:t,addExpense:n,editExpense:r,deleteExpense:o,categories:i,currency:d,title:"Historia wydatk\xf3w",currentUser:p,checkUserInGroupExpense:g}),a.createElement(bt,{walletId:b,walletName:w,isPrivate:E}))},Nt=Object(Se.a)((function(e){return Object(We.a)({container:Object(Pe.a)({padding:"2rem",textAlign:"center"},e.breakpoints.down("xs"),{padding:"1rem"})})})),Pt=function(e){var t=e.users,n=e.addUser,a=e.deleteUser,o=e.title,i=Nt();return r.a.createElement("div",{className:i.container},r.a.createElement(Je.a,{title:o,columns:[{title:"Nazwa u\u017cytkownika",field:"username"}],data:t,localization:Ke,options:{actionsColumnIndex:-1},editable:{onRowAdd:function(e){return function(e){return we(e.username).then((function(){return n(e)})).catch((function(){}))}(e)},onRowDelete:function(e){return a(e)}}}))},St=function(e){var t=e.wallet,n=Object(a.useContext)(De),o=n.user,i=n.addCategory,c=n.editCategory,s=n.deleteCategory,l=n.addExpense,u=n.editExpense,d=n.deleteExpense,m=n.addUser,f=n.deleteUser,p=n.checkUserInGroupExpense,g=n.setWalletDataByDate,v=r.a.useState(0),b=Object(O.a)(v,2),w=b[0],E=b[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(ze.a,{position:"static",color:"secondary"},r.a.createElement(Fe.a,{value:w,indicatorColor:"primary",variant:"fullWidth",onChange:function(e,t){E(t)}},r.a.createElement(Re.a,{label:"Wydatki"}),r.a.createElement(Re.a,{label:"U\u017cytkownicy"}))),0===w&&r.a.createElement(Dt,{data:t.expenses,addExpense:l(t.id),editExpense:u(t.id),deleteExpense:d(t.id),categories:t.categories,addCategory:i(t.id),editCategory:c(t.id),deleteCategory:s(t.id),sum:t.sumExpenses,currency:t.currency,dateFrom:t.dateFrom,dateTo:t.dateTo,currentUser:o,checkUserInGroupExpense:p(t.id),onDatesSubmit:g(t.id),walletId:t.id,walletName:t.name,isPrivate:t.isPrivate}),1===w&&r.a.createElement(Pt,{users:t.users,addUser:m(t.id),deleteUser:f(t.id),title:""}))},Wt=Object(Se.a)((function(){return Object(We.a)({container:{width:"100%",padding:"2rem",textAlign:"center"}})})),zt=function(e){return function(t){var n=a.useContext(De).loading,r=Wt();return n?a.createElement("div",{className:r.container},a.createElement(Ye.a,{size:60})):a.createElement(e,t)}},Tt=zt((function(e){var t=e.match.params,n=Object(a.useContext)(De).getWallet,o=Object(a.useState)(n(t.id)),i=Object(O.a)(o,2),c=i[0],s=i[1];return Object(a.useEffect)((function(){s(n(t.id))}),[t.id,n]),c?c.isPrivate?r.a.createElement(ht,{wallet:c}):r.a.createElement(St,{wallet:c}):null})),Ut=n(783),At=n(437),Lt=n(789),Ft=function(e){var t=e.users,n=e.setUsers;return r.a.createElement(Je.a,{title:"Dodaj u\u017cytkownik\xf3w",columns:[{title:"Nazwa u\u017cytkownika",field:"username"}],data:t,localization:Ke,options:{actionsColumnIndex:-1},editable:{onRowAdd:function(e){return function(e){return we(e.username).then((function(){n([].concat(Object(x.a)(t),[e]))})).catch((function(){}))}(e)},onRowUpdate:function(e,a){return function(e,a){return we(e.username).then((function(){var r=Object(x.a)(t);r.find((function(e){return e.tableData.id===a.tableData.id})).username=e.username,n(r)})).catch((function(){}))}(e,a)},onRowDelete:function(e){return function(e){return new Promise((function(a,r){var o=Object(x.a)(t).filter((function(t){return t.tableData.id!==e.tableData.id}));n(o),a()}))}(e)}}})},Rt=Object(Se.a)((function(e){return Object(We.a)({container:Object(Pe.a)({margin:"2rem",padding:"1rem 2rem"},e.breakpoints.down("xs"),{margin:"0.5rem",padding:"1rem"}),radioGroupContainer:{padding:"1rem 0",display:"flex",flexDirection:"column",height:"200px",maxWidth:"250px",justifyContent:"space-between"},buttonContainer:{width:"100%",textAlign:"center",padding:"1rem"},loader:{marginLeft:"6px"}})})),Gt=zt((function(){var e=Object(a.useState)(""),t=Object(O.a)(e,2),n=t[0],o=t[1],i=Object(a.useState)(""),c=Object(O.a)(i,2),s=c[0],l=c[1],u=Object(a.useState)("PRIVATE"),d=Object(O.a)(u,2),m=d[0],f=d[1],p=Object(a.useState)([]),g=Object(O.a)(p,2),v=g[0],b=g[1],w=Object(a.useState)(!1),E=Object(O.a)(w,2),h=E[0],x=E[1],y=r.a.useContext(De),j=y.addPrivateWallet,C=y.addSheredWallet,k=Rt(),I=function(){return""===n.trim()?(l("Nazwa portfela jest wymagana."),!1):(l(""),!0)};return r.a.createElement(Ut.a,{className:k.container},r.a.createElement("form",{onSubmit:function(e){if(e.preventDefault(),I()&&(x(!0),"PRIVATE"===m&&j(n).catch((function(){x(!1)})),"SHERED"===m)){var t=v.map((function(e){return e.username}));C(n,t).catch((function(){x(!1)}))}}},r.a.createElement("div",{className:k.radioGroupContainer},r.a.createElement(ft.a,{error:!!s,label:"Nazwa",value:n,onChange:function(e){o(e.target.value),l("")},helperText:s}),r.a.createElement(At.a,{value:m,onChange:function(e){f(e.target.value)}},r.a.createElement(yt.a,{value:"PRIVATE",control:r.a.createElement(Lt.a,null),label:"Portfel prywatny"}),r.a.createElement(yt.a,{value:"SHERED",control:r.a.createElement(Lt.a,null),label:"Portfel wsp\xf3\u0142dzielony"}))),"SHERED"===m&&r.a.createElement(Ft,{users:v,setUsers:b}),r.a.createElement("div",{className:k.buttonContainer},r.a.createElement(Xe,{type:"submit",loading:h,text:"Utw\xf3rz"}))))})),Bt=n(784),Mt=Object(Se.a)((function(e){return Object(We.a)({container:{marginTop:"0.5rem",width:"100%",display:"flex",flexDirection:"column",alignItems:"center"},button:{margin:"1rem"},link:{color:e.palette.secondary.light}})})),Ht=function(){var e=a.useState(""),t=Object(O.a)(e,2),n=t[0],r=t[1],o=a.useState(""),i=Object(O.a)(o,2),c=i[0],s=i[1],l=a.useState(!1),u=Object(O.a)(l,2),d=u[0],f=u[1],p=a.useContext(De).doLogIn,g=Mt();return a.createElement(Bt.a,{component:"main",maxWidth:"xs"},a.createElement("div",{className:g.container},a.createElement("form",{className:g.container,onSubmit:function(e){e.preventDefault(),f(!0),p(n,c).catch((function(e){e.response&&401===e.response.status&&z("Niepoprawny login lub has\u0142o."),f(!1)}))}},a.createElement(Te.a,{component:"h1",variant:"h5"},"Logowanie"),a.createElement(ft.a,{variant:"outlined",margin:"normal",id:"login",label:"Login",fullWidth:!0,autoFocus:!0,required:!0,onChange:function(e){r(e.currentTarget.value)}}),a.createElement(ft.a,{variant:"outlined",margin:"normal",id:"password",type:"password",label:"Has\u0142o",fullWidth:!0,required:!0,onChange:function(e){s(e.currentTarget.value)}}),a.createElement(Xe,{text:"Zaloguj si\u0119",loading:d,type:"submit",fullWidth:!0,className:g.button})),a.createElement(Te.a,null,"Nie masz konta?"," ",a.createElement(m.b,{to:tn.register,className:g.link},"Zarejestruj si\u0119!"))))},Zt=function(e){var t=e.message;return a.createElement("div",null,a.createElement("p",null,t))},qt=/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])(?=.{8,})/,Jt=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,Kt=Object(Se.a)((function(e){return Object(We.a)({container:{marginTop:"1rem",marginBottom:"1rem",width:"100%",display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center"},button:{margin:"1rem"},arrowContainer:{width:"100%",textAlign:"left",paddingLeft:"1rem"},link:{color:e.palette.secondary.main}})})),Vt=function(e){var t=e.history,n=Kt(),r=a.useContext(De).setUsersData,o=a.useState(""),i=Object(O.a)(o,2),c=i[0],s=i[1],l=a.useState(""),u=Object(O.a)(l,2),d=u[0],f=u[1],p=a.useState(""),g=Object(O.a)(p,2),v=g[0],b=g[1],w=a.useState(""),E=Object(O.a)(w,2),x=E[0],j=E[1],C=a.useState(""),k=Object(O.a)(C,2),D=k[0],N=k[1],P=a.useState(!1),S=Object(O.a)(P,2),W=S[0],z=S[1];return a.createElement(Bt.a,{component:"main",maxWidth:"xs"},a.createElement("div",{className:n.container},a.createElement("form",{className:n.container,onSubmit:function(e){e.preventDefault(),(""===c?(N("Pole login jest wymagane"),0):Jt.test(d)?v!==x?(N("Has\u0142a nie s\u0105 takie same."),0):qt.test(v)||(N("Has\u0142o musi mie\u0107 minimum 8 znak\xf3w i zawiera\u0107 ma\u0142\u0105 liter\u0119 [a-z], wielk\u0105 liter\u0119 [A-Z], cyfr\u0119 [0-9] oraz znak specjalny [!@#$%^&*]."),0):(N("Niepoprawny adres e-mail"),0))&&(z(!0),be(c,d,v).then(function(){var e=Object(y.a)(h.a.mark((function e(n){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.data,e.next=3,I(a);case 3:r(),t.push(tn.newWallet);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(){z(!1)})))}},a.createElement(Te.a,{component:"h1",variant:"h5"},"Panel rejestracji"),a.createElement(ft.a,{variant:"outlined",margin:"normal",id:"username",label:"Login",type:"text",required:!0,fullWidth:!0,autoFocus:!0,onChange:function(e){return s(e.currentTarget.value)}}),a.createElement(ft.a,{variant:"outlined",margin:"normal",id:"login",label:"E-mail",type:"email",required:!0,fullWidth:!0,onChange:function(e){return f(e.currentTarget.value)}}),a.createElement(ft.a,{variant:"outlined",margin:"normal",id:"password",type:"password",label:"Has\u0142o",required:!0,fullWidth:!0,onChange:function(e){return b(e.currentTarget.value)}}),a.createElement(ft.a,{variant:"outlined",margin:"normal",id:"password-confirmation",type:"password",label:"Potwierd\u017a has\u0142o",required:!0,fullWidth:!0,onChange:function(e){return j(e.currentTarget.value)}}),a.createElement(Zt,{message:D}),a.createElement(Xe,{text:"Zarejestruj si\u0119",loading:W,type:"submit",fullWidth:!0,className:n.button})),a.createElement(Te.a,null,"Masz ju\u017c konto?"," ",a.createElement(m.b,{to:tn.login,className:n.link},"Zaloguj si\u0119!"))))},$t=n(255),Yt=n(189),_t=n(344),Xt=function(e){return D()?a.createElement(f.b,e):a.createElement(f.a,{to:tn.login})},Qt=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"getDatePickerHeaderText",value:function(e){return Object(Yt.default)(e,"d MMMM yyyy",{locale:_t.a})}}]),t}($t.default);var en=function(){return a.createElement(m.a,{basename:"ikwita"},a.createElement(p.a,{theme:w},a.createElement(v.a,{utils:Qt,locale:_t.a},a.createElement(g.a,null),a.createElement(Ne,null,a.createElement("div",{className:"App"},a.createElement(Le,null),a.createElement(f.d,null,a.createElement(Xt,{path:"".concat(tn.wallet,"/:id"),render:function(e){return a.createElement(a.Fragment,null,a.createElement(He,e),a.createElement(Tt,e))}}),a.createElement(Xt,{path:tn.newWallet,render:function(e){return a.createElement(a.Fragment,null,a.createElement(He,e),a.createElement(Gt,e))}}),"/>",a.createElement(f.b,{path:tn.login,component:Ht}),a.createElement(f.b,{path:tn.register,component:Vt}),a.createElement(Xt,{path:tn.empty,component:function(){return a.createElement("div",null)}})))))))},tn={empty:"/",wallet:"/wallet",newWallet:"/new-wallet",login:"/signin",register:"/signup"},nn=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function an(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i.a.render(r.a.createElement(en,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("ikwita",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("ikwita","/service-worker.js");nn?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):an(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):an(t,e)}))}}()}},[[511,1,2]]]);
//# sourceMappingURL=main.3012ecf9.chunk.js.map